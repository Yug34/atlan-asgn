(this["webpackJsonpatlan-asgn"]=this["webpackJsonpatlan-asgn"]||[]).push([[0],{11:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(16),l=n.n(o),s=(n(24),n(17)),c=n(2),i=(n(25),n(11),n(18)),d=n.n(i),u=(n(27),n(0));var h=function(e){return Object(u.jsxs)("div",{className:"upload",children:[Object(u.jsx)("button",{onClick:e.showUpload,className:"uploadBtn",id:"uploadButton",style:{color:"white",backgroundColor:"#272822",border:"none",fontSize:"16px",height:"2rem",cursor:"pointer"},children:"Upload CSV"}),Object(u.jsx)("div",{id:"myModal",className:"modal",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsx)("div",{id:"linkContainer",children:Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:"100%",height:"100%"},children:[Object(u.jsx)("textarea",{placeholder:"Enter link here",id:"linkInput",defaultValue:"https://raw.githubusercontent.com/Yug34/atlan-asgn/master/dataFiles/customers.csv"}),Object(u.jsx)("button",{style:{width:"100%",height:"10%",overflowWrap:"break-word",color:"white",backgroundColor:"#272822",border:"none",cursor:"pointer"},onClick:function(){""!==document.getElementById("linkInput").value?(e.uploadViaLink(document.getElementById("linkInput").value),e.setQuery('-- Enter SQL Query here:\n-- You can also change the separator\n  SELECT * FROM CSV(?, {headers: true, separator:","})'),document.getElementById("myModal").style.display="none"):alert("Dont even try")},children:"Fetch CSV from URL"})]})}),Object(u.jsxs)("div",{className:"dragDrop",onDragOver:function(t){return e.dragOverHandler(t)},onDrop:function(t){return e.dropHandler(t)},children:[Object(u.jsx)("div",{style:{width:"fit-content",height:"2rem",margin:"0 auto",display:"flex",flexDirection:"column"},children:"Drag and drop a CSV file here"}),Object(u.jsx)("div",{style:{height:"fit-content",display:"block",marginTop:"15%"},children:Object(u.jsx)("img",{style:{height:"128px",width:"128px",opacity:.2},src:"https://raw.githubusercontent.com/Yug34/atlan-asgn/master/src/img/dropFile.png",alt:"dropImage"})})]}),Object(u.jsx)("div",{id:"csvDataInput",children:Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:"100%",height:"100%"},children:[Object(u.jsx)("textarea",{placeholder:"Type/paste CSV content here",id:"enter"}),Object(u.jsx)("button",{style:{display:"inline-block",height:"10%",width:"100%",overflowWrap:"break-word",color:"white",backgroundColor:"#272822",border:"none",cursor:"pointer"},onClick:function(){console.log(document.getElementById("enter").value),""!==document.getElementById("enter").value?(e.uploadData(document.getElementById("enter").value),e.setQuery('-- Enter SQL Query here:\n-- You can also change the separator\n  SELECT * FROM CSV(?, {headers: true, separator:","})'),document.getElementById("myModal").style.display="none"):alert("Don't even try")},children:"Enter CSV"})]})}),Object(u.jsx)("span",{onClick:e.hideUpload,style:{color:"white",fontWeight:"bold",marginLeft:"20px",fontSize:"50px",cursor:"pointer"},children:"\xd7"})]})})]})},j=(n(29),n(19)),b=n.n(j);var m=function(e){var t=Object(r.useState)(null),n=Object(c.a)(t,2),a=n[0],o=n[1],l=Object(r.useState)(null),s=Object(c.a)(l,2),i=s[0],d=s[1];return Object(r.useEffect)((function(){e.results&&(e.results[0]&&d(Object.keys(e.results[0]).map((function(e){return Object(u.jsx)("th",{className:"headerItem",children:e},e)}))),o(e.results.map((function(e){return Object(u.jsx)("tr",{className:"tableRow",children:Object.keys(e).map((function(t,n){return Object(u.jsx)("td",{className:"tableItem",children:e[t]},n)}))},b()())}))))}),[e.results]),Object(u.jsx)("div",{className:"results",children:Object(u.jsxs)("table",{className:"resultsTable",children:[Object(u.jsx)("thead",{className:"tableHead",children:Object(u.jsx)("tr",{className:"headerRow",children:i})}),Object(u.jsx)("tbody",{className:"tableBody",children:a})]})})},p=n(6),y=n.n(p);n(37),n(38);var f=function(e){return Object(u.jsxs)("div",{style:{border:"1px solid #555651"},children:[Object(u.jsx)("div",{style:{textAlign:"center",color:"white",background:"#555651"},children:"SQL Editor"}),Object(u.jsx)("div",{className:"editor",children:Object(u.jsx)(y.a,{className:"editorInput",placeholder:"Enter SQL Query here",mode:"sql",theme:"monokai",name:"blah2",fontSize:e.fontSize,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,onChange:function(t){return e.queryChangeHandler(t)},value:e.query,setOptions:{showLineNumbers:!0,wrap:!0,hScrollBarAlwaysVisible:!1,vScrollBarAlwaysVisible:!1,tabSize:2,cursorStyle:"smooth"},style:{height:"45vh",width:"50vw"}})})]})};n(39);var g=function(e){var t=Object(r.useState)(""),n=Object(c.a)(t,2),a=n[0],o=n[1];return Object(r.useEffect)((function(){""===e.error||null===e.error?o(""):o(e.error)}),[e.error]),Object(u.jsxs)("div",{style:{border:"1px solid #555651"},children:[Object(u.jsx)("div",{style:{textAlign:"center",color:"white",background:"#555651"},children:"Error Logger"}),Object(u.jsx)("div",{className:"errorDisplay",children:Object(u.jsx)(y.a,{className:"error",placeholder:"Error Logs:",mode:"sql",theme:"monokai",name:"errorBlah",fontSize:e.fontSize,readOnly:!0,showPrintMargin:!0,showGutter:!0,value:a,setOptions:{wrap:!0,hScrollBarAlwaysVisible:!1,vScrollBarAlwaysVisible:!1,cursorStyle:"smooth"},style:{height:"45vh",width:"50vw"}})})]})};var O=function(){var e=Object(r.useState)(null),t=Object(c.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)('-- Enter SQL Query here:\n-- You can also change the separator\n  SELECT * FROM CSV(?, {headers: true, separator:","}) WHERE orderID > 11000'),l=Object(c.a)(o,2),i=l[0],j=l[1],b=Object(r.useState)(null),p=Object(c.a)(b,2),y=p[0],O=p[1],v=Object(r.useState)(null),x=Object(c.a)(v,2),w=x[0],S=x[1];return Object(r.useEffect)((function(){fetch("https://raw.githubusercontent.com/Yug34/atlan-asgn/master/dataFiles/order_details.csv").then((function(e){return e.text()})).then((function(e){return a(e)}))}),[]),Object(r.useEffect)((function(){n&&d.a.promise("".concat(i),[n]).then((function(e){O(e),S(null)})).catch((function(e){S(e.message)}))}),[n,i]),Object(u.jsxs)("div",{id:"App",children:[Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsx)(h,{showUpload:function(){document.getElementById("myModal").style.display="block"},hideUpload:function(){document.getElementById("myModal").style.display="none"},dropHandler:function(e){e.preventDefault();var t=e.dataTransfer.files[0],n=new FileReader;n.onload=function(e){a(e.target.result)},j('-- Enter SQL Query here:\n-- You can also change the separator\n  SELECT * FROM CSV(?, {headers: true, separator:","})'),n.readAsText(t),document.getElementById("myModal").style.display="none"},dragOverHandler:function(e){e.preventDefault(),e.target.className="dragOverDiv",console.log(e.target.className)},uploadViaLink:function(e){fetch(e).then((function(e){return e.text()})).then((function(e){return a(e)})).then((function(){return document.getElementById("myModal").style.display="none"}))},uploadData:function(e){a(e)},setQuery:j}),Object(u.jsx)("button",{className:"downloadBtn",id:"downloadButton",onClick:function(){var e=[];e.push(Object.keys(y[0]).join(", "));var t,n=Object(s.a)(y);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push(Object.values(r).join(", "))}}catch(w){n.e(w)}finally{n.f()}var a=new Blob([e.join("\n")],{type:"text/csv"}),o=window.URL.createObjectURL(a),l=document.createElement("a");l.setAttribute("href",o),l.setAttribute("download","my_data.csv"),document.body.appendChild(l),l.click()},style:{backgroundColor:"#2F3129",border:"none",color:"white",fontSize:"16px",height:"2rem",cursor:"pointer"},children:"Download Results"})]}),Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsxs)("div",{children:[Object(u.jsx)(f,{query:i,queryChangeHandler:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];j(t?e.target.value:e)},fontSize:15}),Object(u.jsx)(g,{error:w,fontSize:15})]}),Object(u.jsx)(m,{results:y})]})]})};l.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(O,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.827846f8.chunk.js.map