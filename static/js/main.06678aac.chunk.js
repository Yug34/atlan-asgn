(this["webpackJsonpatlan-asgn"]=this["webpackJsonpatlan-asgn"]||[]).push([[0],{11:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(16),c=n.n(s),l=(n(24),n(17)),o=n(2),i=(n(25),n(11),n(18)),d=n.n(i),u=(n(27),n(0));var h=function(e){return Object(u.jsxs)("div",{className:"upload",children:[Object(u.jsx)("button",{onClick:e.showUpload,id:"uploadButton",children:"Upload CSV"}),Object(u.jsx)("div",{id:"myModal",className:"modal",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsx)("div",{id:"linkContainer",children:Object(u.jsxs)("div",{id:"linkAreaContainer",children:[Object(u.jsx)("textarea",{placeholder:"Enter link here",id:"linkInput",defaultValue:"https://raw.githubusercontent.com/Yug34/atlan-asgn/master/dataFiles/customers.csv"}),Object(u.jsx)("button",{id:"linkSubmitButton",onClick:function(){""!==document.getElementById("linkInput").value?(e.uploadViaLink(document.getElementById("linkInput").value),e.setQuery('-- Enter SQL Query here:\n-- You can also change the separator\n  SELECT * FROM CSV(?, {headers: true, separator:","})'),document.getElementById("myModal").style.display="none"):alert("Dont even try")},children:"Fetch CSV from URL"})]})}),Object(u.jsxs)("div",{className:"dragDrop",onDragOver:function(t){return e.dragOverHandler(t)},onDrop:function(t){return e.dropHandler(t)},children:[Object(u.jsx)("div",{id:"dragTextContainer",children:"Drag and drop a CSV file here"}),Object(u.jsx)("div",{id:"dropImageContainer",children:Object(u.jsx)("img",{id:"dropImage",src:"https://raw.githubusercontent.com/Yug34/atlan-asgn/master/src/img/dropFile.png",alt:"dropImage"})})]}),Object(u.jsx)("div",{id:"csvDataInput",children:Object(u.jsxs)("div",{id:"csvInputContainer",children:[Object(u.jsx)("textarea",{placeholder:"Type/paste CSV content here",id:"enter"}),Object(u.jsx)("button",{id:"enterBtn",onClick:function(){""!==document.getElementById("enter").value?(e.uploadData(document.getElementById("enter").value),e.setQuery('-- Enter SQL Query here:\n-- You can also change the separator\n  SELECT * FROM CSV(?, {headers: true, separator:","})'),document.getElementById("myModal").style.display="none"):alert("Don't even try")},children:"Enter CSV"})]})}),Object(u.jsx)("span",{onClick:e.hideUpload,id:"closeModalBtn",children:"\xd7"})]})})]})},j=(n(29),n(19)),b=n.n(j);var m=function(e){var t=Object(r.useState)(null),n=Object(o.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(null),l=Object(o.a)(c,2),i=l[0],d=l[1];return Object(r.useEffect)((function(){e.results&&(e.results[0]&&d(Object.keys(e.results[0]).map((function(e){return Object(u.jsx)("th",{className:"headerItem",children:e},e)}))),s(e.results.map((function(e){return Object(u.jsx)("tr",{className:"tableRow",children:Object.keys(e).map((function(t,n){return Object(u.jsx)("td",{className:"tableItem",children:e[t]},n)}))},b()())}))))}),[e.results]),Object(u.jsx)("div",{className:"results",children:Object(u.jsxs)("table",{className:"resultsTable",children:[Object(u.jsx)("thead",{className:"tableHead",children:Object(u.jsx)("tr",{className:"headerRow",children:i})}),Object(u.jsx)("tbody",{className:"tableBody",children:a})]})})},O=n(6),p=n.n(O);n(37),n(38);var y=function(e){return Object(u.jsxs)("div",{style:{border:"1px solid #555651"},children:[Object(u.jsx)("div",{style:{textAlign:"center",color:"white",background:"#555651"},children:"SQL Editor"}),Object(u.jsx)("div",{className:"editor",children:Object(u.jsx)(p.a,{className:"editorInput",placeholder:"Enter SQL Query here",mode:"sql",theme:"monokai",name:"blah2",fontSize:e.fontSize,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,onChange:function(t){return e.queryChangeHandler(t)},value:e.query,setOptions:{showLineNumbers:!0,wrap:!0,hScrollBarAlwaysVisible:!1,vScrollBarAlwaysVisible:!1,tabSize:2,cursorStyle:"smooth"},style:{height:"45vh",width:"50vw"}})})]})};n(39);var f=function(e){var t=Object(r.useState)(""),n=Object(o.a)(t,2),a=n[0],s=n[1];return Object(r.useEffect)((function(){""===e.error||null===e.error?s(""):s(e.error)}),[e.error]),Object(u.jsxs)("div",{style:{border:"1px solid #555651"},children:[Object(u.jsx)("div",{style:{textAlign:"center",color:"white",background:"#555651"},children:"Error Logger"}),Object(u.jsx)("div",{className:"errorDisplay",children:Object(u.jsx)(p.a,{className:"error",placeholder:"Error Logs:",mode:"sql",theme:"monokai",name:"errorBlah",fontSize:e.fontSize,readOnly:!0,showPrintMargin:!0,showGutter:!0,value:a,setOptions:{wrap:!0,hScrollBarAlwaysVisible:!1,vScrollBarAlwaysVisible:!1,cursorStyle:"smooth"},style:{height:"45vh",width:"50vw"}})})]})};var v=function(){var e=Object(r.useState)(null),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)('-- Enter SQL Query here:\n-- You can also change the separator\n  SELECT * FROM CSV(?, {headers: true, separator:","}) WHERE orderID > 11000'),c=Object(o.a)(s,2),i=c[0],j=c[1],b=Object(r.useState)(null),O=Object(o.a)(b,2),p=O[0],v=O[1],g=Object(r.useState)(null),x=Object(o.a)(g,2),S=x[0],E=x[1];return Object(r.useEffect)((function(){fetch("https://raw.githubusercontent.com/Yug34/atlan-asgn/master/dataFiles/order_details.csv").then((function(e){return e.text()})).then((function(e){return a(e)}))}),[]),Object(r.useEffect)((function(){n&&d.a.promise("".concat(i),[n]).then((function(e){v(e),E(null)})).catch((function(e){E(e.message)}))}),[n,i]),Object(u.jsxs)("div",{id:"App",children:[Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsx)(h,{showUpload:function(){document.getElementById("myModal").style.display="block"},hideUpload:function(){document.getElementById("myModal").style.display="none"},dropHandler:function(e){e.preventDefault();var t=e.dataTransfer.files[0],n=new FileReader;n.onload=function(e){a(e.target.result)},j('-- Enter SQL Query here:\n-- You can also change the separator\n  SELECT * FROM CSV(?, {headers: true, separator:","})'),n.readAsText(t),document.getElementById("myModal").style.display="none"},dragOverHandler:function(e){e.preventDefault(),e.target.className="dragOverDiv"},uploadViaLink:function(e){fetch(e).then((function(e){return e.text()})).then((function(e){return a(e)})).then((function(){return document.getElementById("myModal").style.display="none"}))},uploadData:function(e){a(e)},setQuery:j}),Object(u.jsx)("button",{id:"downloadButton",onClick:function(){var e=[];e.push(Object.keys(p[0]).join(", "));var t,n=Object(l.a)(p);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push(Object.values(r).join(", "))}}catch(S){n.e(S)}finally{n.f()}var a=new Blob([e.join("\n")],{type:"text/csv"}),s=window.URL.createObjectURL(a),c=document.createElement("a");c.setAttribute("href",s),c.setAttribute("download","my_data.csv"),document.body.appendChild(c),c.click()},children:"Download Results"})]}),Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsxs)("div",{children:[Object(u.jsx)(y,{query:i,queryChangeHandler:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];j(t?e.target.value:e)},fontSize:15}),Object(u.jsx)(f,{error:S,fontSize:15})]}),Object(u.jsx)(m,{results:p})]})]})};c.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.06678aac.chunk.js.map